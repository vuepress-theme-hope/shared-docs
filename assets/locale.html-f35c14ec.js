import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,e as t}from"./app-103dd778.js";const e={},p=t(`<p>Locale 相关函数应该在 Node 端调用，你应该只在 Node 端代码中从 <code>vuepress-shared/node</code> 导入它们。</p><p>最终的语言环境应该使用 <code>define</code> 挂钩在客户端中传递，并且只包含正在使用的内容。</p><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><h3 id="lang2pathconfig" tabindex="-1"><a class="header-anchor" href="#lang2pathconfig" aria-hidden="true">#</a> lang2PathConfig</h3><ul><li>类型: <code>Record&lt;string,string&gt;</code></li></ul><p>“语言代码”到“语言路径”的映射。</p><h3 id="supportedlangs" tabindex="-1"><a class="header-anchor" href="#supportedlangs" aria-hidden="true">#</a> supportedLangs</h3><ul><li>类型: <code>string[]</code></li></ul><p><code>vuepress-shared</code> 已知语言路径的一组语言。</p><h3 id="path2langconfig" tabindex="-1"><a class="header-anchor" href="#path2langconfig" aria-hidden="true">#</a> path2langConfig</h3><ul><li>类型: <code>Record&lt;string,string&gt;</code></li></ul><p>“语言路径”到“语言代码”映射。</p><h2 id="函数" tabindex="-1"><a class="header-anchor" href="#函数" aria-hidden="true">#</a> 函数</h2><h3 id="path2langconfig-1" tabindex="-1"><a class="header-anchor" href="#path2langconfig-1" aria-hidden="true">#</a> path2langConfig</h3><div class="language-typescript" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">path2Lang</span><span class="token operator">:</span> <span class="token punctuation">(</span>path<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> debug<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> HopeLang<span class="token punctuation">;</span>
</code></pre></div><p>从路径获取语言。</p><h3 id="lang2path" tabindex="-1"><a class="header-anchor" href="#lang2path" aria-hidden="true">#</a> lang2Path</h3><div class="language-typescript" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">lang2Path</span><span class="token operator">:</span> <span class="token punctuation">(</span>lang<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> debug<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre></div><p>从语言获取路径</p><h3 id="getrootlang" tabindex="-1"><a class="header-anchor" href="#getrootlang" aria-hidden="true">#</a> getRootLang</h3><div class="language-typescript" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">lang2Path</span><span class="token operator">:</span> <span class="token punctuation">(</span>lang<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> debug<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre></div><p>获取根目录的语言</p><h3 id="getrootlangpath" tabindex="-1"><a class="header-anchor" href="#getrootlangpath" aria-hidden="true">#</a> getRootLangPath</h3><div class="language-typescript" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getRootLangPath</span><span class="token operator">:</span> <span class="token punctuation">(</span>app<span class="token operator">:</span> App<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre></div><p>从根目录语言获取推断语言路径</p><h3 id="getlocalepaths" tabindex="-1"><a class="header-anchor" href="#getlocalepaths" aria-hidden="true">#</a> getLocalePaths</h3><div class="language-typescript" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getLocalePaths</span><span class="token operator">:</span> <span class="token punctuation">(</span>app<span class="token operator">:</span> App<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>获取语言环境路径</p><h3 id="getlocale" tabindex="-1"><a class="header-anchor" href="#getlocale" aria-hidden="true">#</a> getLocale</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">GetLocalesOptions<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> LocaleData<span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/** VuePress Node app */</span>
  app<span class="token operator">:</span> App<span class="token punctuation">;</span>
  <span class="token doc-comment comment">/** Default locale config */</span>
  <span class="token keyword">default</span><span class="token operator">:</span> RequiredLocaleConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token doc-comment comment">/** user locale config */</span>
  config<span class="token operator">?</span><span class="token operator">:</span> LocaleConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token doc-comment comment">/** plugin name */</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> getLocales<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">LocaleData</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
  options<span class="token operator">:</span> GetLocalesOptions<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> RequiredLocaleConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>获取客户端的最终语言环境配置。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>这是一个有用的工具函数，我们建议每个具有客户端多语言设置的插件都使用它。</p><p>通过使用它，你可以支持尽可能多的语言环境，同时只将必要的数据传递给客户端。</p><p>例如:</p><p>使用以下语言环境:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  locales<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;/&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      lang<span class="token operator">:</span> <span class="token string">&quot;en-US&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;/zh/&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      lang<span class="token operator">:</span> <span class="token string">&quot;zh-CN&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你可以得到:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// fr 被删除并且 \`/\` 获取 \`/en/\` 的语言环境</span>
<span class="token comment">// 用户设置覆盖默认区域设置选项</span>
<span class="token function">getLocales</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  app<span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;/zh/&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token string">&quot;一&quot;</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token string">&quot;二&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;/en/&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;/fr/&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token string">&quot;un&quot;</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token string">&quot;deux&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  config<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;/&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token string">&quot;One&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;/zh/&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token string">&quot;壹&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//   &quot;/&quot;: {</span>
<span class="token comment">//     a: &quot;One&quot;,</span>
<span class="token comment">//     b: &quot;two&quot;,</span>
<span class="token comment">//   },</span>

<span class="token comment">//   &quot;/zh/&quot;: {</span>
<span class="token comment">//     a: &quot;壹&quot;,</span>
<span class="token comment">//     b: &quot;二&quot;,</span>
<span class="token comment">//   },</span>
<span class="token comment">// };;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,32),o=[p];function c(l,i){return s(),a("div",null,o)}const d=n(e,[["render",c],["__file","locale.html.vue"]]);export{d as default};
